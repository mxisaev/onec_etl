# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ oneC_etl

## üéØ –û–±–∑–æ—Ä

**oneC_etl** - —ç—Ç–æ ETL –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Power BI —Å –ø–æ–º–æ—â—å—é DAX –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ PostgreSQL. –ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü —Å DAX –∑–∞–ø—Ä–æ—Å–∞–º–∏.

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üöÄ [01_project_overview.md](01_project_overview.md)
**–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞** - –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã ETL –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤.

### üé® [02_product_properties.md](02_product_properties.md)
**–°–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤, –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd /var/www/vhosts/itland.uk/docker/dags/oneC_etl
./run_etl.sh CompanyProductsETL
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
tail -f logs/etl.log
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
cd tests
python3 test_dax_diagnostic.py
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **`company_products_etl.py`** - –æ—Å–Ω–æ–≤–Ω–æ–π DAG —Ñ–∞–π–ª
- **`tasks/`** - –º–æ–¥—É–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **`config/`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **`database/`** - SQL —Å–∫—Ä–∏–ø—Ç—ã –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- **`dax_prepare/`** - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ DAX –∑–∞–ø—Ä–æ—Å–æ–≤
- **`tests/`** - —Ç–µ—Å—Ç—ã –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- **`vector_search/`** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫

## üìä –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ETL –ø—Ä–æ—Ü–µ—Å—Å—ã:
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö –∏–∑ Power BI —á–µ—Ä–µ–∑ DAX
- **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è** –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–ó–∞–≥—Ä—É–∑–∫–∞** –≤ PostgreSQL —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫** –ø–æ —Ç–æ–≤–∞—Ä–∞–º

### DAX –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã** –∫ Power BI
- **–ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫** –∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

## üåê –î–æ—Å—Ç—É–ø

- **Airflow UI**: http://localhost:8080
- **DAG ID**: CompanyProductsETL
- **–õ–æ–≥–∏**: `logs/etl.log`

## üìä –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- **–í—Ä–µ–º—è**: 06:30, 09:30, 11:30 UTC (11:30, 14:30, 16:30 UTC+5)
- **–î–Ω–∏**: –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫-–ü—è—Ç–Ω–∏—Ü–∞
- **–¢–∏–ø**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Airflow

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ DAX:
```bash
cd tests
python3 test_dax_diagnostic.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞:
```bash
python3 test_parsing.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
python3 test_migrate_product_properties.py
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π:
```bash
cd tests
python3 get_reports.py
python3 list_reports.py
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ DAX:
```bash
python3 test_dax_diagnostic.py
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
- **Airflow UI** - —Å—Ç–∞—Ç—É—Å DAG –∏ –∑–∞–¥–∞—á
- **–õ–æ–≥–∏** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –ú–µ—Ç—Ä–∏–∫–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ Power BI
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/etl.log`
2. –ò–∑—É—á–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤—ã—à–µ
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤ Airflow UI

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

- **[suppliers_etl](../suppliers_etl/docs/README.md)** - ETL –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- **[color_processing](../color_processing/docs/README.md)** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–≤–µ—Ç–æ–≤
- **[best_practices](../../best_practices/README.md)** - –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

**üìö –ù–∞—á–Ω–∏—Ç–µ —Å [01_project_overview.md](01_project_overview.md) –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ–±—â–µ–π –∫–∞—Ä—Ç–∏–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞ ETL —Ç–æ–≤–∞—Ä–æ–≤.**
